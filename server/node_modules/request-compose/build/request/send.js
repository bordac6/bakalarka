'use strict';

var http = require('http');
var https = require('https');

module.exports = function () {
  return function (_ref) {
    var options = _ref.options,
        body = _ref.body;
    return new Promise(function (resolve, reject) {

      var req = (/https/.test(options.protocol) ? https : http).request(options).on('response', function (res) {
        // process.env.DEBUG && require('request-logs')({res})
        resolve({ res });
      }).on('error', reject);

      req.end(body);

      // process.env.DEBUG && require('request-logs')({req, body, options})
    });
  };
};